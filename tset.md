1. 서비스 개요

서비스 이름(예시): 라이나 해외여행보험 Claim Helper Chatbot

목적

고객이 “자연어로” 사고 상황을 말하면
→ 약관 담보(휴대품 손해 / 해외 의료비 등) 인식
→ 해야 할 행동(현지에서, 귀국 후) 안내
→ 필요한 서류 리스트 안내
→ 인근 기관(경찰서/병원) 위치 제공
→ 귀국일에 맞춰 리마인드 및 청구 안내까지

채널

Web/Mobile Web 기준 (추후 앱/카카오 확장 가능)

2. 주요 기능 요구사항
   2-1. 자연어 사고 인식 & 담보 매핑 (GPT 담당)

입력 예시

“누가 아이패드를 훔쳐갔어”

“발목 삐끗해서 제대로 못 걷겠어”

“열이 39도까지 올라가는데 어떡해?”

GPT가 해야 할 일

사고 유형 분류

휴대품 손해, 해외 의료비(상해/질병), 기타(미지원 사고)

사고 장소/국가 인식

명시적: “프랑스 파리에서…”

암시적: 없으면 “지금 계신 국가/도시 알려주실 수 있나요?” 로 추가 질문

사고 내용 필드 추출

품목(아이패드, 휴대폰 등)

증상/부위(발목, 열, 기침 등)

고객 의도 파악

청구 절차 안내 요청인지

단순 문의인지

위치 안내(병원/경찰서) 필요 여부

GPT 출력(백엔드에 넘겨줄 구조 예시)

{
"coverage_type": "personal_belongings",   // or "overseas_medical"
"intent": "claim_guide",                  // claim_guide / info / emergency
"country": "France",
"city": "Paris",
"item": "tablet PC (iPad)",
"symptom": null,
"need_place_search": true,                // 경찰서/병원 검색 필요 여부
"raw_user_text": "누가 아이패드를 훔쳐갔어"
}


이 구조는 GPT function calling / JSON mode로 뽑게끔 프롬프트에 명시.

2-2. 청구 필요 서류 도출 & 구분 (현지 vs 귀국 후)

약관/내부 규칙은 백엔드 룰 테이블로 관리

coverage_type + country 조합으로 필요한 서류 매핑

예:

휴대품 손해: Police Report, 물품 구입 영수증, 여권 사본, 보험증권 등

해외 의료비: 진단서/medical record, 영수증 원본, 진료비 상세내역, 여권/항공권 등

백엔드에서 GPT에게 줄 정보

해당 담보의 “필요 서류 리스트 + 각 서류 설명 + 현지 발급 여부 플래그”

예:

[
{"name": "Police Report", "required_at": "overseas"},
{"name": "물품 구입 영수증", "required_at": "home"},
{"name": "여권 사본", "required_at": "home"}
]


GPT가 해야 할 표현 정제

고객 친화적인 한국어 문장으로 변환

예:

“보험금 청구를 위해서는 아래 서류들이 필요해요.”

“해외에서 꼭 준비해야 하는 서류와, 귀국 후에 준비하셔도 되는 서류를 나눠서 안내드릴게요.”

출력 형태

overseas_docs[], home_docs[] 로 구분해서 UI에 보여 줄 수 있게 정리

2-3. 지도 연동 (Google Maps / Places API, 백엔드 담당)

기능

현재 위치 기준으로 인근 경찰서 / 병원 검색

거리/소요시간/주소 정도 표시

흐름

GPT: “인근 경찰서를 안내해 드릴까요?” / “인근 병원을 안내해 드릴까요?”

고객: “네”

프론트/백엔드:

브라우저 Geolocation으로 위도/경도 확보

Google Places로 type=police / type=hospital 검색

결과 리스트를 UI에서 카드/리스트 형태로 표시

GPT는 위치 데이터 자체를 만지지 않고,
“아래에서 가까운 경찰서를 선택해 주세요.” 같이 대화만 담당

비기능 요구사항

지도 로딩 실패 시 fallback 문구:

“현재 위치를 가져오지 못했어요. ‘도시명 + 경찰서/병원’으로 직접 검색해 주세요.”

국가별 지원되지 않는 경우 처리도 필요(단, 해커톤이면 happy path 위주)

2-4. 귀국일 기반 리마인드 기능

귀국일 입력 흐름

GPT: “나머지 서류는 귀국 후 준비하시면 돼요. 귀국 날짜를 알려주시면 귀국일에 맞춰 다시 안내를 드릴게요.”

고객: “12/1/2025”

백엔드 역할

날짜 파싱 (GPT가 yyyy-MM-dd로 정규화해서 넘겨주게 해도 됨)

스케줄링/알림(알림 방식은 해커톤에선 단순 시뮬레이션 or 버튼으로 대신)

귀국일 도래 시 메시지

GPT 프롬프트에 “지금은 고객이 귀국한 상태이며, 나머지 서류를 안내해야 한다” 라고 컨텍스트 제공

그 상태에서:

“안전하게 귀국하셨나요? 나머지 서류를 안내해 드릴게요.”

서류 리스트 재안내

2-5. 청구 접수 안내 & 링크 제공

필수 내용

준비 서류 리스트 재정리

콜센터 번호: 1666-5075

“주민등록번호 입력 요청” 안내 멘트

청구 접수 URL 안내

https://ec.aceinsurance.co.kr/... (고정 또는 파라미터)

GPT 역할

정제된 문구로 안내

예:

“먼저 라이나손해보험 여행보험 고객센터 1666-5075로 전화하셔서 상담원에게 보험금 청구를 위한 주민등록번호 입력을 요청해 주세요.”

“이후 아래 홈페이지에서 서류를 첨부해 접수하실 수 있어요.”
[청구 접수 바로가기] 버튼/링크

주의사항

GPT가 “법적 확정”이나 “지급 보장”처럼 오해 소지 있는 표현을 쓰지 않도록 프롬프트에서 제한

항상 “보험 약관 및 심사 결과에 따라 지급 여부가 결정됩니다” 같은 디스클레이머 한 줄 포함

2-6. 마케팅/추가 상품 추천

조건

청구 안내 흐름이 어느 정도 마무리된 후

고객이 동의 시에만 추가 상담/상품 소개

GPT 멘트 예시

“여행이 끝난 후에도 일상생활에서의 사고나 질병에 대한 보장이 필요하시다면, 간단히 몇 가지 상품을 소개해 드릴까요?”

Yes → 상품 요약, No → 깔끔하게 종료

요구사항

마케팅 동의 여부는 Boolean/Flag로 백엔드에 전달 (추후 CRM 연동 가능하게)

3. GPT 프롬프트 설계 요구사항
   3-1. 시스템 프롬프트(역할 정의)

역할: “당신은 라이나손해보험(라이나손해보험을 인수한 Chubb 계열)의 해외여행보험 고객을 돕는 콜센터 상담원 AI다.”

반드시 지킬 것:

약관/지급 여부는 최종적으로 회사 심사에 따라 결정된다는 문구 유지

법적/의료적 최종 판단을 대신하지 않는다는 점 명시

고객이 패닉 상태일 수 있으므로, 차분하고 친절한 톤 유지

한국어 기본, 필요한 경우 영어로 표현 가능

3-2. JSON 추출용 프롬프트

모델이 사용자 발화를 분류 + 필드 추출해서 JSON 반환

예시 요구사항:

사용자의 문장을 읽고 아래 JSON 형식으로만 답하세요.

{
"coverage_type": "personal_belongings | overseas_medical | unknown",
"intent": "claim_guide | info | emergency",
"country": "국가명 또는 null",
"city": "도시명 또는 null",
"item": "훼손/도난 당한 물품 또는 null",
"symptom": "주요 증상 설명 또는 null",
"need_place_search": true or false
}


coverage_type 분류 기준 설명을 프롬프트에 명시:

도난/분실/파손 → personal_belongings

다침/병 증상/열 → overseas_medical

3-3. 응답 생성용 프롬프트

백엔드가 정리한 서류 리스트, 위치 결과 여부, 귀국일 등의 컨텍스트를 넣고

“고객에게 다음 단계 행동을 2~4 문장 안에서 설명하라” 식으로 지시

Tone:

반말/존댓말 중 하나 선택 (해커톤에서는 존댓말 고정 추천)

너무 형식적이지 않게, 콜센터 말투로

4. 시스템 아키텍처(간단)

Front

채팅 UI

위치 권한 요청 + Google Maps/Places 호출

GPT 응답 렌더링

Backend

GPT API 호출 서비스

사고 분류/필드 추출 엔드포인트

약관/서류 룰 테이블 관리

리마인드 스케줄(간단히 DB + Cron or mock 처리)

청구 링크/콜센터 번호 등 설정 값 관리

External

OpenAI / GPT API

Google Maps & Places API

5. 비기능 요구사항 (해커톤용 최소)

속도: GPT 응답 3~5초 내 (프롬프트 최대한 짧게 설계)

안정성: API 실패 시 기본 안내 멘트 준비

보안: 주민번호/민감정보는 챗봇에 직접 입력하지 않도록 안내
→ “주민등록번호는 상담원에게 전화로만 알려 주세요” 고정 문구

6. 케이스별 간단 플로우 요약
   Case 1 – 프랑스 파리, 태블릿 도난

고객: “누가 아이패드를 훔쳐갔어”

GPT: coverage_type=personal_belongings 로 분류

GPT: “휴대품 손해 보장이 있어요…” + 서류 안내 (현지/귀국 구분)

GPT: “먼저 해외 현지에서 준비해야 하는 서류를 알려 드릴까요?”

고객: “네”

GPT: “경찰서 신고 + Police Report 발급 안내 / 인근 경찰서 안내 여부 질문”

고객: “네”

Front: Google Places로 인근 경찰서 리스트 표시

GPT: 귀국일 질문 → 스케줄 저장

귀국일 도래 → “안전하게 귀국하셨나요…” + 나머지 서류 + 청구 접수 안내

Case 2 – 일본 도쿄, 발목 삠 / 열

고객: “발목을 삐끗했어” or “몸에서 열이 많이 나”

GPT: coverage_type=overseas_medical 로 분류

GPT: “해외 의료비 보장이 있어요. 먼저 인근 병원을 안내해 드릴까요?”

고객: “네”

Front: 인근 병원 리스트 표시

GPT: 진료 후 준비할 서류 안내 (영수증 원본, 진단서 등)

귀국일 입력 → 리마인드 → 귀국 후 나머지 서류 + 청구 접수 안내